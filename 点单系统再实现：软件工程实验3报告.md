## 点单系统再实现：软件工程实验3报告

本次实验vibecoding总体感觉良好，我在扮演宏观的设计者、指挥者，调控者，来引导ai拆解任务，实现需求，然鹅过程中也遇到了很多问题，我们来一一总结如何解决的，以及一些ai辅助编程的感想。

### 1.主要功能，代码运行实现

这里我们就用客户移动端，商家pc端来展示ui+代码效果

1）点餐，核心为用户端实现了5个主要页面

<img src="/Users/w_jasmine/Library/Application Support/typora-user-images/image-20251113225821671.png" alt="image-20251113225821671" style="zoom:50%;" />

入座选择就餐-菜单分类（全部-特色-肉类-素材-酒水-主食）-购物车视图

<img src="/Users/w_jasmine/Library/Application Support/typora-user-images/image-20251113232100089.png" alt="image-20251113232100089" style="zoom:50%;" />

订单提交-查看详情

a.入座后先选人数，菜品分为多个栏目可以筛选后再选择

b.加购时候可以选择口味/份量，可以备注，购物车里会看见

c.提交订单后可以查看详情，这里没有支付逻辑我们默认线下交易了

2）后台管理

<img src="/Users/w_jasmine/Desktop/截屏2025-11-13 22.52.17.png" alt="截屏2025-11-13 22.52.17" style="zoom:25%;" />

<img src="/Users/w_jasmine/Desktop/截屏2025-11-13 22.53.09.png" alt="截屏2025-11-13 22.53.09" style="zoom:25%;" />

<img src="/Users/w_jasmine/Desktop/截屏2025-11-13 22.53.02.png" alt="截屏2025-11-13 22.53.02" style="zoom:25%;" />

<img src="/Users/w_jasmine/Desktop/截屏2025-11-13 22.52.55.png" alt="截屏2025-11-13 22.52.55" style="zoom:25%;" />

<img src="/Users/w_jasmine/Desktop/截屏2025-11-13 22.52.46.png" alt="截屏2025-11-13 22.52.46" style="zoom:25%;" />

<img src="/Users/w_jasmine/Desktop/截屏2025-11-13 22.52.37.png" alt="截屏2025-11-13 22.52.37" style="zoom:25%;" />

<img src="/Users/w_jasmine/Desktop/截屏2025-11-13 22.52.27.png" alt="截屏2025-11-13 22.52.27" style="zoom:25%;" />

a.数据概览，看总收入和订单的一些统计（为什么是+38因为只有标注完成的订单代表结账了，才会+营业额，对应的下单/取消也会改变库存）

b.订单管理，可以看详情/标注完成/标注取消

c.菜品管理，点图片可以更换图片/修改名字/修改价格/修改余量

d.库存管理，可以批量调整，可以补货（+10）/-5

e.店铺设置，可以设置休息，修改菜品分类标签什么的

### 2.UML图实现代码

1）后端源码（Python，排除 app/pages 模板）：约 1,445 行；前端模板（Jinja2/HTML，app/pages/*.html，含内联 JS/CSS）：约 2,673 行（上述为物理行数统计，未剔除空行与注释；UI 行数包含了大量内联脚本和样式）

2）**uml转代码**：我首先让gpt5-thinking进行功能拆分，我确保它理解需求后让他把需要实现的总结概括，输给cursor（一个类似copilot，trae的llm辅助编程ide）（这里初步构建使用claude-4.5-sonnet）；在一开始，我声明要求“先给接口与函数存根+规约（不要实现），我确认后再生成实现代码；实现阶段优先打通 GET /categories /dishes /stock 和 POST /orders，再补后台、页面、测试与风格脚本（这个是gpt教我这么说的）。

3）**llm辅助代码实现：**

我提炼需求+uml-》chatGPT，进行多轮交互，gpt明白了所有需求，帮我写了给cursor的提示词

一开始让claude4.5先写接口和函数，第一轮基本没问题，缺少了两个功能，我让它加上并补充代码

然后是人工的一些测试，在下一节记录了几个值得一提的东西

**值得一题的是**，为了让我的菜品看起来更加美味（可能你也发现了），我用了aigc生成菜品图片，这里的模型用的是qwen-image（不得不说还有很大提升空间，它给我生成了**热气腾腾的冰镇酸梅汤**。。。）<img src="/Users/w_jasmine/Library/Application Support/typora-user-images/image-20251113231839284.png" alt="image-20251113231839284" style="zoom:25%;" />

### llm生成代码不符合预期

这里展示一些有意思的交互，来源于我不会描述前端问题，需求一开始没说清楚，而进行反复调试的典型案例，而在实际软件开发中这种情况也是常有的。我用claude搭建了基础部分，一些精细的refine则是让gpt5来做，更高效

<img src="/Users/w_jasmine/Library/Application Support/typora-user-images/截屏2025-11-13 23.14.09.png" alt="截屏2025-11-13 23.14.09" style="zoom:50%;" />

1.**软件测试驱动软件开发**：llm没有通过自己写的单元测试，但是后面改对了（主要是一些冲突下单这种情况的测试）

2.**llm在多页切换的web-coding任务中表现不佳**（就是它单页排版能力还行，这种切页逻辑一开始写会有一些bug，需要测试中改进）

<img src="/Users/w_jasmine/Desktop/截屏2025-11-13 21.04.04.png" alt="截屏2025-11-13 21.04.04" style="zoom: 25%;" />

比如这页编不出来

点击完成没有更新营业额：某个刷新函数没写对

3.**带图的few-shot+multi-turn有助于提高前端错误解决率**

某问题：我在当前分量标签下操作了库存-5或补货，标签按钮颜色没变，但是筛选没了（会到全部-筛选的显示了）

第一次：llm没理解； 第二次：理解了，不准确 第三次：理解并解决了问题 

<img src="/Users/w_jasmine/Library/Application Support/typora-user-images/截屏2025-11-13 23.35.31.png" alt="截屏2025-11-13 23.35.31" style="zoom:25%;" /><img src="/Users/w_jasmine/Library/Application Support/typora-user-images/截屏2025-11-13 23.35.59.png" alt="截屏2025-11-13 23.35.59" style="zoom:25%;" /><img src="/Users/w_jasmine/Library/Application Support/typora-user-images/截屏2025-11-13 23.36.25.png" alt="截屏2025-11-13 23.36.25" style="zoom:25%;" />

4.前端细节问题

1）一些小的问题，比如菜品显示简介全都是“美味川菜”（这个是后台确实没设置）

2）购物车问题，一开始即使同一个，配置一样的菜品，不是一次加入购物车的就不能合并为一个元素（描述清楚问题后解决）

3）订单后台显示问题，不管内容、份数多少，都显示3份-麻婆豆腐（和详情不一致），关联解析没有做好

以上问题基本通过debug+交互解决，并形成最终报告的代码数量，我的理解是软件设计、软件测试与软件开发工程师都是不可或缺的，江山大计尚不能交给llm。。。debug大概花了3h



### git远程管理代码

已经建立远程仓库并同步所有代码

<img src="/Users/w_jasmine/Desktop/截屏2025-11-13 23.09.37.png" alt="截屏2025-11-13 23.09.37" style="zoom:50%;" />

<img src="/Users/w_jasmine/Library/Application Support/typora-user-images/截屏2025-11-13 23.09.17.png" alt="截屏2025-11-13 23.09.17" style="zoom:50%;" />

### 关于llm时代下vibe-coding的思考

一开始以为点单系统是一个很简单的东西，即使加上商家和客户端也就是多一些code（因为微信点单小程序现在做的很好），在实际开发过程中，前端反复出问题，即使我一开始先让ai给出骨架再补全，以及写好单元测试，我们发现，即使是当下最顶级的code AI---claude 4.5-sonnet，也很难在有限轮次做对，做好，这引导我们思考ai的coding能力仍需要更全面的评估基准，特别是在人人都借助ai可以变身一站式开发工程师的时代，debug能力给ai来做，仍然乏善可陈。第一，我说不清楚具体的错误，我只能描述行为；第二，有时候我交互好几遍改不掉一个bug，需要配合图片输入让ai理解。

